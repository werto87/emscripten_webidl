<head>
    <meta charset="UTF-8">
    <title>Test</title>
    <script src="myLib.wasm.js" type="text/javascript"></script>
    <style type="text/css">
        body {
            background-color: #ccc;
            text-size-adjust: none;
        }
    </style>

    <script type="text/javascript">
        // Main demo code
        MyLib().then(function (MyLib) {
            console.log("Pass java script array to c++ do calc and print result in java script");
            // use c++ objects inside
            const points = [new MyLib.Point(), new MyLib.Point(), new MyLib.Point(), new MyLib.Point()];
            points.forEach(element => {
                element.x = element.x
                element.y = element.y
            });
            someArray = new MyLib.SomeArray()
            for (let i = 0; i < someArray.size(); i++) {
                someArray.at(i).x = 42
                someArray.at(i).y = 1337

            }
            for (let i = 0; i < someArray.size(); i++) {
                point = someArray.at(i)
                point.x *= i
                point.y *= i
            }
            for (let i = 0; i < someArray.size(); i++) {
                console.log(someArray.at(i).x)
                console.log(someArray.at(i).y)
            }
            console.log("Multiply by 10 in c++");
            someArray.multiplyPoints(10)
            for (let i = 0; i < someArray.size(); i++) {
                console.log(someArray.at(i).x)
                console.log(someArray.at(i).y)
            }
        })
    </script>
</head>